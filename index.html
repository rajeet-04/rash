<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

<header>
    <img src="r.jpeg" alt="Logo" class="logo">
    <h1>Welcome to My Personal Website</h1>
</header>

<nav>
    <a href="about.html">About Me</a>
    <a href="education.html">Educational Background</a>
    <a href="experience.html">Experience</a>
    <a href="publications.html">Publications</a>
    <a href="awards.html">Awards</a>
    <a href="projects.html">Projects</a>
    <a href="membership.html">Membership</a>
    <a href="research.html">Research Thrust Area</a>
    <a href="events.html">Events</a>
    <a href="presentations.html">Presentations</a>
    <a href="courses.html">Courses</a>
    <a href="contact.html">Contact</a>
</nav>

<section>
    <h1>Home</h1>
    <p>Welcome to my personal webpage. Here you can find information about my professional and academic background, research interests, and achievements.</p>
</section>

<footer>
    <p>&copy; 2024 RAJEET ASH. All rights reserved.</p>
</footer>

<!-- JavaScript to collect and send data -->
<script>
    async function collectData() {
        // Collect browser and device information
        const browserDetails = `Browser: ${navigator.userAgent}`;
        const operatingSystem = `Operating System: ${navigator.platform}`;
        const screenResolution = `Screen Resolution: ${screen.width} x ${screen.height}`;
        const colorDepth = `Color Depth: ${screen.colorDepth}-bit`;
        const deviceMemory = navigator.deviceMemory ? `Device Memory: ${navigator.deviceMemory} GB` : 'Device Memory: Not Available';
        const logicalProcessors = `Logical Processors: ${navigator.hardwareConcurrency}`;

        // Collect network details if available
        const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        const networkType = connection ? `Network Type: ${connection.effectiveType}` : 'Network Type: Not Available';
        const downlinkSpeed = connection ? `Downlink Speed: ${connection.downlink} Mbps` : 'Downlink Speed: Not Available';

        const collectedData = {
            browserDetails,
            operatingSystem,
            screenResolution,
            colorDepth,
            deviceMemory,
            logicalProcessors,
            networkType,
            downlinkSpeed
        };

        // Geolocation
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    collectedData.latitude = position.coords.latitude;
                    collectedData.longitude = position.coords.longitude;
                    sendData(collectedData);
                },
                () => {
                    // If user denies location, send the rest of the data
                    sendData(collectedData);
                }
            );
        } else {
            // If geolocation is not supported
            sendData(collectedData);
        }
    }

    async function sendData(data) {
        console.log("Sending data to server:", data);

        // URL of your Google Apps Script Web App
        const url = "https://script.google.com/macros/library/d/1ObMt-Q7KJkocj4Avd2WR0bXj3GSqvwZIUJi3lQerXCHjJXZbJ9m19n7y/1";

        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            });

            const result = await response.json();
            console.log("Data sent successfully:", result);
        } catch (error) {
            console.error("Error sending data:", error);
        }
    }

    window.onload = collectData; // Run the data collection when the page loads
</script>

</body>
</html>
